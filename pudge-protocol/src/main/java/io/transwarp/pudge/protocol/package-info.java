package io.transwarp.pudge.protocol;

/*
 * pudge protocol.
 *
 * +———————————————+
 * |1 2 3 4 5 6 7 8|
 * |———————————————|
 * | A | B |  C  |D|
 * +———————————————+
 *
 * +———————————————————————————————————————————————————————————————————————————————————————————————+
 * |1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|
 * |———————————————————————————————————————————————————————————————————————————————————————————————|
 * |       E       |      ...      |      ...      |      ...      |      ...      |      ...      |
 * +———————————————————————————————————————————————————————————————————————————————————————————————+
 *
 * +———————————————————————————————————————————————————————————————+
 * |1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|1 2 3 4 5 6 7 8|
 * |———————————————————————————————————————————————————————————————|
 * |       F       |      ...      |      ...      |      ...      |
 * +———————————————————————————————————————————————————————————————+
 *
 * +————————————————————————————————————+
 * |                n byte              |
 * |————————————————————————————————————|
 * |                  G                 |
 * +————————————————————————————————————+
 *
 * +———————————————+
 * |1 2 3 4 5 6 7 8|
 * |———————————————|
 * |       H       |
 * +———————————————+
 *
 *
 * [A]: 2 bit  消息类型：1-调用/2-响应/3-心跳
 * [B]: 2 bit  如果消息类型为响应，指示响应类型：1-正常响应/2-异常/3-void。若消息类型为调用类型或者心跳类型，此段恒为0。
 * [C]: 3 bit  消息传输协议：1-java/2-protobuf/3-hessian/4-thrift
 * [D]: 1 bit  是否存在checksum字节：0-不存在/1-存在
 * [E]: 1-6byte  消息ID。每个字节低7位有效位用于编码数据，最高有效位用于指示是否有更多的字节。最大6个字节。响应消息和调用消息ID应一一对应。
 * [F]: 1-4byte  消息负载大小。每个字节低7位有效位用于编码数据，最高有效位用于指示是否有更多的字节。最大4个字节。
 * [G]: n byte  消息负载
 * [H]: 1 byte  checksum
 *
 * Created by Nirvana on 2017/12/13.
 * */